<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./MainTemplate.xhtml">

            <ui:define name="content">
                <section id="promotions">
                    <c:set var="amountOfPromos" value="#{promotionMB.promotions.size()}"/>
                        <c:if test="${amountOfPromos != 0}">
                            <h1>
                                <h:outputText value="#{msg.promotionsOfTheMoment}"/>
                            </h1>                            
                        </c:if>
                        
                    <h:panelGrid columns="5">
                        <c:forEach items="#{promotionMB.promotions}" var="promotion">
                            <h:link outcome="article.xhtml"
                                class="classe_promo">
                                <f:param name="articleID"
                                         value="#{promotion.idArticle.idArticle}"/>
                                
                                <img class="mini_article_image" src="./resources/images/#{promotion.idArticle.idArticle}.png"/>
                                
                            </h:link>
                            |
                            <h:outputText class="promo_pourcentage" value="- #{promotion.pourcentage}%">
                                    <f:convertNumber minFractionDigits="0"
                                                     maxFractionDigits="2"/>
                                </h:outputText>
                            |
                            <h:outputText value="#{promotion.codepromo}"/>
                        </c:forEach>
                    </h:panelGrid>
                </section>
                    
            </ui:define>

        </ui:composition>

    </body>
</html>
