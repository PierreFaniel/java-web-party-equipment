<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    
    <f:view locale="#{internationalizationMB.locale}">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        
        <h:outputStylesheet name="./css/bootstrap.min.css"/>
        <f:loadBundle basename="language.lang" var="msg"/>
        <title>Party Equipment</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
    </h:head>

    <h:body>
        
        <div id="top">
            <ui:insert name="top"></ui:insert>
            <div id="topHeader"> 
                <h:panelGrid id="columnTopHeader" columns="7">
                    <h:link title="#{msg.goMainPage}" outcome="index.xhtml">
                        <i class="fa fa-home fa-2x" title="#{msg.welcomePage}"/>
                    </h:link>
                    <h:link title="#{msg.goBasket}" outcome="panier.xhtml">
                        <i class="fa fa-shopping-cart fa-2x" title="#{msg.basket}"/>
                    </h:link>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <c:choose>
                        <c:when test="#{!clientMB.infosConnexion.connecte}">
                            <h:link outcome="connect.xhtml">
                                <h:outputText value="#{msg.connect}" />
                            </h:link>
                        </c:when>
                        <c:when test="#{clientMB.infosConnexion.connecte}">
                            <h:link outcome="#{clientMB.editerClient()}">
                                <h:outputText value="#{clientMB.client.email}" />
                            </h:link>
                            <h:link value="#{clientMB.deconnexion()}">
                                <h:outputText value="#{msg.deconnexion}"/>
                            </h:link>
                        </c:when>
                    </c:choose>
                    <h:form>
                        <c:forEach items="#{internationalizationMB.langues}" var="langue">
                            <h:commandLink action="#{internationalizationMB.setLangueCourante(langue)}">
                                <img src="resources/images/#{langue.abreviation}.png" height="20" title="#{langue.libelle}" />
                            </h:commandLink>
                        </c:forEach>
                    </h:form>
                </h:panelGrid>
            </div>
            <div id="topMenu">
                
            </div>
        </div>
        <div>
            <div id="left">
                <ui:insert name="left">
                    
                </ui:insert>
                <ul>
                    <c:forEach items="#{categorieMB.categories}" var="categorie">
                        <li style="list-style-type: none;">
                            <h:link value="#{categorie.getLibelle(internationalizationMB.langueCourante)}"
                                    outcome="categorie.xhtml">
                                <f:param name="categorieID"
                                         value="#{categorie.idCategorie}"/>
                            </h:link>
                        </li>
                    </c:forEach>
                </ul>

            </div>
            <div>
                <div id="right">
                    <ui:insert name="right"></ui:insert>
                    <h:link value="#{msg.promotionsOfTheMoment}" outcome="promotions.xhtml"/> 
                </div>
                <div id="content" class="right_content">
                    <ui:insert name="content"></ui:insert>
                    
                </div>
            </div>
        </div>
        <div id="bottom">
            <ui:insert name="bottom"/>
            <!--<h:link id="aproposLien" value="#{msg.apropos}" outcome="descriptionEntreprise.xhtml"/>-->
             Â© Pierre Faniel et Guillaume de Wouters            
        </div>
        
        <h:outputScript library="js" name="./js/jquery-1.11.3.min.js"/>
        <h:outputScript library="js" name="./js/bootstrap.min.js"/>
    </h:body>
    </f:view>
</html>
